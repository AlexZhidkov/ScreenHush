<!--ToDo: review this-->
<div class="firebase-login">
  <div *ngIf="user" class="avatar">
    <button class="ngx-auth-firebaseui-avatar-button" [matMenuTriggerFor]="posXMenu"
      [matTooltip]="user.displayName ? user.displayName : ''" [style.background-image]="'url(' + user.photoURL + ')'"
      aria-label="Open x-positioned menu" mat-mini-fab style="background-size: cover">
      <span *ngIf="!user?.photoURL">{{displayNameInitials || ''}}</span>
    </button>
  </div>

  <mat-menu #posXMenu="matMenu" class="before ngx-auth-firebaseui-avatar-menu" xPosition="before">
    <div class="row">
      <button class="avatar-button" [style.background-image]="user?.photoURL ? 'url(' + user?.photoURL + ')' : ''" mat-fab
        style="background-size: cover" *ngIf="layout === 'default'">
        <span *ngIf="!user?.photoURL">{{displayNameInitials || ''}}</span>
      </button>
      <div class="profile">
        <strong mat-card-title>{{user?.displayName}}</strong>
        <em mat-card-subtitle style="font-style: italic">{{user?.email}}</em>
      </div>
    </div>
    <mat-divider></mat-divider>
    <div>
      <div *ngFor="let menuItem of links" class="links-menu">
        <button (click)="menuItem?.callback()" mat-menu-item>
          <mat-icon>{{menuItem?.icon}}</mat-icon>
          {{menuItem?.text}}</button>
      </div>
      <button *ngIf="canViewAccount" (click)="openProfile()" color="primary" fxLayoutAlign="center" mat-raised-button>{{
        textProfile }}
      </button>
      <div class="links-menu">
        <button class="sign-out" (click)="signOut()" *ngIf="canLogout" color="warn" fxLayoutAlign="center"
          mat-raised-button>{{ textSignOut
          }}
          <mat-icon>open_in_new</mat-icon>
        </button>
      </div>
    </div>
  </mat-menu>
</div>